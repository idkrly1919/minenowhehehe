<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>verdis | movies</title>
    <link rel="shortcut icon" href="/assets/img/fav.png" type="image/x-icon">
    <link rel="stylesheet" href="/assets/css/colors.css">
    <link rel="stylesheet" href="/assets/css/elements.css">
    <link rel="stylesheet" href="/assets/css/font.css">
    <link rel="stylesheet" href="/assets/icons/fonts/remixicon.css">
</head>
<body style="margin: 0;">
    <style>
         ::-webkit-scrollbar { scrollbar-width: none !important; }
    </style>

    

    <iframe src="/pages/movies.html" style="width: 100vw; height: 100vh; margin: 0;" frameborder="0"></iframe>
    <nav>
        <ul id="nav-ul" class="">
            <div class="container" style="display: flex; flex-direction: row;">
                <div class="top-nav">
                    <li>
                        <a class="active" href="/">
                            <i class="ri ri-home-4-line"></i>
                            Home
                        </a>
                    </li>
                    <li>
                        <a href="/pages/games.html">
                            <i class="ri ri-gamepad-line"></i>
                            Games
                        </a>
                    </li>
                    <li>
                        <a href="/pages/apps.html">
                            <i class="ri ri-apps-line"></i>
                            Apps
                        </a>
                    </li>
                    <li>
                        <a href="/pages/browser.html">
                            <i class="ri ri-seo-line"></i>
                            Browser
                        </a>
                    </li>
                    <li>
                        <a href="/pages/movieframe.html">
                            <i class="ri ri-film-line"></i>
                            Movies
                        </a>
                    </li>
                </div>
                <!--
                                <li>
                                    <a href="javascript:nav('yt')">
                                        <i class="ri ri-video-line"></i>
                                        Youtube UB
                                    </a>
                                </li>
                                -->
                <div>
                    <li>
                        <a style="cursor: pointer;" onclick="window.open('https://discord.gg/hUYzETaQ9U', '_blank')">
                            <i class="ri ri-discord-fill"></i>
                            Discord
                        </a>
                    </li>
                    <li>
                        <a href="/pages/partners.html">
                            <i class="ri ri-shake-hands-fill"></i>
                            Partners
                        </a>
                    </li>
                    <li>
                        <a href="/pages/settings.html">
                            <i class="ri ri-settings-3-line"></i>
                            Settings
                        </a>
                    </li>
                    <li>
                        <a style="cursor: pointer;"
                            onclick="window.open('https://github.com/x8rr/verdis/releases/latest', '_blank')">
                            <i class="ri ri-github-fill"></i>
                            Beta 2.2
                        </a>
                    </li>
                    <!--
                        <li>
                            <a href="javascript:collapseNav()">
                                <i class="ri ri-arrow-left-s-line" style="display: inline-block;" id="cBtn"></i>
                                Collapse
                            </a>
                        </li>
                        -->
                </div>
            </div>
        </ul>
    </nav>

    <script defer>
        const ul = document.getElementById("nav-ul")

        document.querySelectorAll("li a").forEach(link => {
            link.addEventListener("click", function () {
                document.querySelectorAll("li a").forEach(l => l.classList.remove("active"));
                this.classList.add("active");
            });
        });

        window.addEventListener("keydown", (e) => {
            if (e.ctrlKey && e.key === "m") {
                console.log("Key pressed")
                e.preventDefault()
                if (!ul.classList.contains("active")) {
                    ul.classList.add("active")
                    const blurr = document.createElement("div")
                    blurr.classList.add("bluroverlay")
                    document.body.append(blurr)
                    blurr.addEventListener("click", () => {
                        blurr.remove()
                        ul.classList.remove("active")
                    })
                } else {
                    ul.classList.remove("active")
                    const blurr = document.querySelector(".bluroverlay")
                    blurr.remove()
                }
            }
        })

        // Comprehensive popup blocking on the movies page
        
        // Block window.open
        window.open = function () { 
            console.warn("Popup blocked on movies page (window.open)"); 
            return null; 
        };
        
        // Block clicks that try to open new windows/tabs
        document.addEventListener('click', function(e) {
            // Check if the click is on a link or its parent
            let element = e.target;
            let maxDepth = 5;
            let depth = 0;
            
            while (element && depth < maxDepth) {
                if (element.tagName === 'A') {
                    const target = element.getAttribute('target');
                    const href = element.getAttribute('href');
                    
                    // Allow our own navigation and Discord/GitHub links in nav
                    if (target === '_blank' && href) {
                        const isOwnNav = href.startsWith('/pages/') || href.startsWith('#');
                        const isAllowedExternal = href.includes('discord.gg') || href.includes('github.com');
                        
                        if (!isOwnNav && !isAllowedExternal) {
                            e.preventDefault();
                            e.stopPropagation();
                            console.warn('Popup blocked on movies page (click on link):', href);
                            return false;
                        }
                    }
                }
                element = element.parentElement;
                depth++;
            }
        }, true); // Use capture phase to intercept early
        
        // Block mousedown events that might trigger popups
        document.addEventListener('mousedown', function(e) {
            // Only block middle mouse button (often used for popups)
            if (e.button === 1) {
                e.preventDefault();
                e.stopPropagation();
                console.warn('Popup blocked on movies page (middle click)');
                return false;
            }
        }, true);
    </script>

    <div class="nav-logo">
        <img src="/assets/img/fav.png" alt="" onclick="
                    ul.classList.add('active');
                    const blurr = document.createElement('div')
                    blurr.classList.add('bluroverlay')
                    document.body.append(blurr)
                    blurr.addEventListener('click', () => {
                        ul.classList.remove('active')
                        blurr.remove()
                    })
                ">
    </div>
</body>
</html>